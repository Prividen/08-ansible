# Установка Java, Elasticsearch и Kibana

Исходя из задания, inventory и group_vars не совсем понятно, нужно ли всё устанавливать 
в один хост или на разные. 

Ради интереса предположим, что на разные: Java и Elasticsearch в один контейнер (elasticsearch), Кибану - в другой (kibana).

Playbook состоит из трёх play - установка Java, Elasticsearch и Kibana.

## Play 'Install Java'
Выполняется на группе хостов elasticsearch. Состоит из тасков: 
- установка факта java_home, для использования в последующих тасках.
- копирования заранее скаченного дистрибутива Явы в настраиваемый хост
- создания домашней директории для Явы
- распаковка архива Явы в эту директорию
- экспорт специфичных Ява-переменных из /etc/profile.d

## Play 'Install Elasticsearch'
Как и установка Явы, выполняется на группе хостов elasticsearch. Состоит из тасков, аналогичных вышеописанным, за некоторыми исключениями:
- переменная elastic_home не назначается факту в play, а прописывается в group_vars
- дистрибутив не копируется с control station, а скачивается на настраиваемом хосте из интернета

## Play 'Install Kibana'
Здесь, как в случае и с Elasticsearch, мы скачиваем дистрибутив, создаём домашнюю директорию, распаковываем туда архив, и кроме того:
- создаём пользователя, от имени которого будет исполнятся Kibana,
- создаём конфиг приложения, в который прописываем IP контейнера с Elasticsearch,
- меняем владельца для директории data, чтобы Kibana могла туда записывать свои данные.

Плейбук поддерживает теги: java, elasticsearch, kibana.  
Идемпотентный, проверку lint'ом проходит.